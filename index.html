<!DOCTYPE html>
<html lang="en-us">

<head>
  <title>Map editor PBG</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <link rel="stylesheet" href="style.css">
  <script src="script.js" defer></script>
</head>

<body>
  <header>
    <img src="images/border.png" class="brd_cold" style="display: none;"> <!-- предзагрузка -->
  </header>
  
  <main>
    <div class="button_controls">
      <div class="menu_line">
        <div class="menu">
          <div class="menu_button">file</div>
          <div class="menu_content">
            <button class="btn-new" data-text="создать новую карту">new</button>
            <button class="btn-save" data-text="записать данные карты в файл">save</button>
            <button class="btn-load" data-text="загрузить данные карты из файла">open</button>
            <button class="btn-clear" data-text="очистить опорники">clear</button>
          </div>
        </div>
        <div class="menu">
          <div class="menu_button">image</div>
          <div class="menu_content">
            <button class="btn-imgcopy" data-text="копировать изображение карты в буфер обмена">copy </button>
            <button class="btn-imgsave" data-text="записать изображение карты в файл">save </button>
            <button class="btn-imgbb" data-text="загрузить изображение карты на сайт imgbb.com">upload </button>
          </div>
        </div>
      </div>

      <div class="file-name">
        <!-- name -->
      </div>
      
      <div class="menu_line">
        <button class="btn-help" data-text="описание функций">help</button>
        <button class="btn-theme" data-text="сменить цветовую тему">theme</button>
      </div>
      

    </div>
    
    <div class="container">
      <!-- отображение сцены -->
      <canvas>
      </canvas>

      <!-- редактор секторов -->
      <form class="sector_editor" style="visibility: hidden;" onsubmit="return false" >

        <input type="text" class="input_name" name="name" autocomplete="off"/>
                
        <div class="input_osad">
          <input type="radio" name="os" value="штаб" />
          <input type="radio" name="os" value="o" />
          <input type="radio" name="os" value="oo" />
          <input type="radio" name="os" value="ooo" />
				</div>
        
        <div class="input_color">
          <input type="radio" name="clr" value="0" style="display: none;"/> <!--прозрачный-->
          <input type="radio" name="clr" value="1" /> <!--розовый-->
          <input type="radio" name="clr" value="2" /> <!--фиолетовый-->
          <input type="radio" name="clr" value="3" /> <!--синий-->
          <input type="radio" name="clr" value="4" /> <!--оранжевый-->
          <input type="radio" name="clr" value="5" /> <!--голубой-->
          <input type="radio" name="clr" value="6" /> <!--желтый-->
          <input type="radio" name="clr" value="7" /> <!--зеленый-->
          <input type="radio" name="clr" value="8" /> <!--красный-->
        </div>

        <div class="input_end">
          <button class="btn-edit-save" data-text="сохранить ENTER">SAVE</button>
          <button class="btn-edit-cancel" data-text="отмена ESC">CANCEL</button>
        </div>

      </form>

      <!-- монитор буфера обмена (для отображения скопированой карты) -->
      <div class="monitor">
        <img data-text="clipboard image">
      </div>
      
      <!-- log area -->
      <div id="log-box">        
      </div>

      <!-- help area -->
      <div class="help-box" style="visibility: hidden;">
        <h1>
          Редактор карты секторов-опорников ПБГ для браузерной онлайн-игры <a href="https://www.innogames.com/games/forge-of-empires/"  target="_blank">"FORGE OF EMPIRES"</a>
        </h1>
        
        <p>
          Редактирование карты состоит из двух этапов: настройка карты (распределение штабов гильдий и выбор количества мест под башни) , распределение опорников.
          По завершении работы, карту можно сохранить, переслать, опубликовать.
        </p>
        
        <p>
          <h2>1. Настройка карты.</h2>
          Для входа в редактор нажмите правую кнопку мыши на нужном секторе. 
          Для выбора штаба - введите назавание гильдии, отметьте выбор "штаб" и выберите цвет гильдии.
          Чтобы выбрать количество опорников - просто кликните на соответствующую кнопку.<br>
          Для сохранания изменений нажмите ENTER. Отмена - ESC.<br>
        </p>

        <p>
          <h2>2. Распределение опорников. </h2>
          Выбор опорников. Кликните по штабу левой кнопкой мыши. Выбирайте сектора, которые планируете назначить опорниками.
        </p>

        <p>
          <h2>Меню "file".</h2>
          new - создание новой пустой карты поля (все сектора будут иметь стандартные названия)<br>
          save - запись данных карты в файл (формата json), который можно переслать другому игроку для редактирования<br>
          open - открыть полученный файл данных для дальнейшего редактирования
          clear - очистить выбор опорников (распределение штабов и осадок не изменяются)
        </p>

        <p>
          <h2>Меню "image".</h2>
          copy - скопировать изображение карты в буфер обмена (можно вставить в мессенджер и переслать согам) <br>
          save - записать изображение карты в файл формата jpg (можно вставить в мессенджер и переслать согам) <br>
          upload - публикация карты на сайт imgbb.com (вы получите ссылку на карту, которую можно вставить в сообщение в центре сообщения прямо в игре)
        </p>

        <span class="copyright">
            © 2024 <a href="tg://resolve?domain=SirYozhka">SirYozhka</a> (version 1.2)
        </span>
        
      </div>
      

    </div>
    <div class="footer">
      <div class="label-box">
        Выбор гильдии (клик по штабу). Выбор опорника (клик по сектору). Редактор (правая кнопка).
      </div>
    <div>

  </main>


</body>

</html>