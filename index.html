<!DOCTYPE html>
<html lang="en-us">

<head>
  <title>FOE PBG map editor © SirYozhka</title>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />

  <link rel="stylesheet" href="style.css">
  <script src="script.js" defer></script>
</head>

<body>
  <header> <!-- header -->
    <!-- DEBUG: индикация -->
    <button class="btn-edit" disabled>edit </button>
    <button class="btn-save">save </button>
    <button class="btn-copy">copy </button>
    <div class="label-box">
      клик по штабу - выбрать цвет, клик по сектору - покрасить в цвет штаба
    </div>
  </header>
  <main>
    <img id="background" src="images/background.jpg" style="display:none">
    <img id="addresses" src="images/addresses.bmp" style="display:none">
    <img id="scene" src="images/scene.png" style="display:none">

    <div class="container">
      <canvas>
        <!-- отображение сцены с помошью canvas -->
      </canvas>

      <!-- редактор в таблице TODO -->
      <form class="map-editor" style="visibility:hidden">
        <fieldset>
          <legend>штабы</legend>
          Штаб 1
          <input type="text" id="shtab" name="shtab">
        </fieldset>
        <fieldset>
          <legend>сектора</legend>
          X1X
          <input id="os" type="number" name="osad" value="0" min="0" max="3" step="1">
          <input id="pn" type="number" name="points" value="10" min="10" max="100">
        </fieldset>
        <button class="btn-save">save</button>
      </form>

      <!-- редактор названий штабоы гильдий -->
      <div class="guild-editor" style="visibility:hidden">
        <input name="ed" type="text" class="name-editor">
      </div>

      <!-- редактор секторов и количества мест под осадки -->
      <div class="sector-editor" style="visibility:hidden">
        <input name="nm" type="text" class="name-editor">
        <input name="os" type="number" class="siege-editor" min="1" max="3">
      </div>

    </div>

  </main>


  <!-- DEBUG логирование на экран -->
  <div class="log-box">
    <p>-------- журнал событий --------</p>
    <style>
      .log-box {
        position: absolute;
        top: 6vh;
        right: 1vh;
        width: 200px;
        min-width: fit-content;
        height: fit-content;
        max-height: 80vh;
        padding: 5px;
        overflow: auto;
        background-color: lightgrey;
        font-size: 13px;
        color: darkblue;
        opacity: 0.7;
        visibility: hidden;
      }
    </style>
    <script>
      const div_log = document.querySelector(".log-box");
      function LOG(message) {
        div_log.style.visibility = "visible"; //при первом же логе делаем видимым
        const p_msg = document.createElement("p");
        div_log.appendChild(p_msg);
        p_msg.textContent = message;
        p_msg.scrollIntoView();
      }
    </script>
  </div>

  <footer> </footer>
</body>

</html>